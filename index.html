<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de Clôture</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --accent-color: #e74c3c;
            --success-color: #2ecc71;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --card-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 60px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 10px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(45deg);
        }

        header h1 {
            margin-bottom: 8px;
            font-size: 1.8rem;
            position: relative;
            z-index: 1;
        }

        header p {
            position: relative;
            z-index: 1;
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .progress-container {
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 15px;
            height: 8px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--success-color) 0%, var(--primary-color) 100%);
            height: 100%;
            width: 10%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .screen {
            display: none;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            margin-bottom: 15px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .screen.active {
            display: block;
        }

        .screen-title {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-color);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.3rem;
        }

        .screen-title i {
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--dark-color);
            font-size: 0.9rem;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
            background-color: #f9f9f9;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            background-color: white;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color) 0%, #27ae60 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .btn-export {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
        }

        .btn-export:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }

        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
        }

        .result-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
            font-size: 0.9rem;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 600;
            color: #555;
        }

        .result-value {
            color: var(--primary-color);
            font-weight: 700;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            font-size: 0.85rem;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            font-weight: 600;
            font-size: 0.8rem;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #e9f7fe;
        }

        .notification {
            position: fixed;
            top: 15px;
            right: 15px;
            padding: 12px 18px;
            background: linear-gradient(135deg, var(--success-color) 0%, #27ae60 100%);
            color: white;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .notification.show {
            transform: translateX(0);
        }

        .icon-input {
            position: relative;
        }

        .icon-input i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #95a5a6;
        }

        .icon-input input {
            padding-left: 38px;
        }

        .summary-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-3px);
        }

        .summary-card h3 {
            color: var(--primary-color);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
        }

        .summary-card .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--secondary-color);
            margin: 8px 0;
        }

        .summary-card .unit {
            color: #7f8c8d;
            font-size: 0.85rem;
        }

        .mobile-table {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Nouveaux styles pour les informations supplémentaires */
        .additional-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .info-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
        }

        .info-card .icon {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .info-card .value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .info-card .label {
            color: #7f8c8d;
            font-size: 0.8rem;
            margin-top: 4px;
        }

        /* Footer avec liens d'affiliation */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 8px 0;
            text-align: center;
            font-size: 11px;
            color: #6c757d;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            border-top: 1px solid #e9ecef;
        }

        .footer-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }

        .footer-link {
            color: #6c757d;
            text-decoration: none;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 10px;
        }

        .footer-link:hover {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--primary-color);
        }

        .footer-separator {
            color: #dee2e6;
            margin: 0 3px;
        }

        .product-links {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .product-link {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            text-decoration: none;
            color: #495057;
            font-size: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            flex: 1;
            min-width: 100px;
            justify-content: center;
        }

        .product-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            color: var(--primary-color);
        }

        .product-link i {
            font-size: 14px;
            color: var(--primary-color);
        }

        .product-name {
            font-weight: 600;
            font-size: 11px;
        }

        .product-brand {
            font-size: 10px;
            color: #6c757d;
        }

        /* Section produits recommandés */
        .recommended-products {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }

        .recommended-products h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.1rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
        }

        .product-card .icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .product-card .name {
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .product-card .brand {
            color: #6c757d;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .product-card .description {
            font-size: 0.8rem;
            color: #6c757d;
            margin-bottom: 10px;
            flex-grow: 1;
        }

        .product-card .price {
            font-weight: 700;
            color: var(--success-color);
            font-size: 1.1rem;
        }

        .export-section {
            margin-top: 20px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 5px;
            }
            
            header h1 {
                font-size: 1.4rem;
            }
            
            header p {
                font-size: 0.8rem;
            }
            
            .screen {
                padding: 12px;
            }
            
            .btn-group {
                flex-direction: column;
                gap: 8px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
                font-size: 13px;
                padding: 10px 16px;
            }
            
            .screen-title {
                font-size: 1.1rem;
            }
            
            .screen-title i {
                font-size: 1.3rem;
            }
            
            table {
                font-size: 0.75rem;
            }
            
            th, td {
                padding: 8px;
            }
            
            .summary-card {
                padding: 12px;
            }
            
            .summary-card .value {
                font-size: 1.3rem;
            }
            
            .footer {
                position: relative;
                margin-top: 20px;
                padding: 10px 0;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 4px;
            }
            
            .product-links {
                gap: 8px;
            }
            
            .product-link {
                font-size: 11px;
                padding: 6px 10px;
                min-width: 80px;
            }
            
            .additional-info {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 8px;
            }
            
            .info-card {
                padding: 10px;
            }
            
            .info-card .icon {
                font-size: 1.5rem;
            }
            
            .info-card .value {
                font-size: 1.1rem;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 10px;
            }
            
            .product-card {
                padding: 12px;
            }
            
            .product-card .icon {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 3px;
            }
            
            header {
                padding: 15px;
            }
            
            header h1 {
                font-size: 1.2rem;
            }
            
            .screen {
                padding: 10px;
            }
            
            .form-group {
                margin-bottom: 12px;
            }
            
            label {
                font-size: 0.85rem;
            }
            
            input, select {
                padding: 10px;
                font-size: 13px;
            }
            
            .btn {
                font-size: 12px;
                padding: 8px 14px;
            }
            
            .screen-title {
                font-size: 1rem;
            }
            
            .result-item {
                font-size: 0.85rem;
                padding: 6px 0;
            }
            
            table {
                font-size: 0.7rem;
            }
            
            th, td {
                padding: 6px;
            }
            
            .additional-info {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            }
            
            .info-card .value {
                font-size: 1rem;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calculator"></i> Calculateur de Clôture</h1>
            <p>Estimez précisément les matériaux pour votre projet de clôture</p>
        </header>

        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <!-- Écran d'introduction -->
        <div class="screen active" id="screen-intro">
            <h2 class="screen-title"><i class="fas fa-info-circle"></i> Introduction</h2>
            <p>Bienvenue dans l'application de calcul de clôture. Cette application vous aidera à estimer les quantités de matériaux nécessaires pour la construction de votre clôture.</p>
            <p>Pour commencer, veuillez entrer le périmètre de votre parcelle :</p>
            
            <div class="form-group">
                <label for="perimeter">Périmètre de la parcelle (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-combined"></i>
                    <input type="number" id="perimeter" placeholder="Ex: 80" min="1">
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4my4KuU" target="_blank" class="product-link">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <div class="product-name">Acier à béton</div>
                        <div class="product-brand">HA 500</div>
                    </div>
                </a>
                <a href="https://amzn.to/3JoZ4Vv" target="_blank" class="product-link">
                    <i class="fas fa-tools"></i>
                    <div>
                        <div class="product-name">Kit de maçonnerie</div>
                        <div class="product-brand">Pro complet</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <div></div>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Commencer
                </button>
            </div>
        </div>

        <!-- Écran Béton de propreté -->
        <div class="screen" id="screen-beton-proprete">
            <h2 class="screen-title"><i class="fas fa-cubes"></i> Béton de propreté</h2>
            
            <div class="form-group">
                <label for="largeur-fouille-beton">Largeur de la fouille (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="largeur-fouille-beton" placeholder="Ex: 0.3" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="epaisseur-beton">Épaisseur du béton (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="epaisseur-beton" placeholder="Ex: 0.05" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-beton">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-beton">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="result-container" id="result-beton-proprete">
                <div class="result-item">
                    <span class="result-label">Volume de béton:</span>
                    <span class="result-value" id="volume-beton-proprete">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Quantité de ciment:</span>
                    <span class="result-value" id="ciment-beton-proprete">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de gravier:</span>
                    <span class="result-value" id="gravier-beton-proprete">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-beton-proprete">0 m³</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Semelle filante -->
        <div class="screen" id="screen-semelle">
            <h2 class="screen-title"><i class="fas fa-grip-lines"></i> Semelle filante</h2>
            
            <div class="form-group">
                <label for="largeur-fouille-semelle">Largeur de la fouille (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="largeur-fouille-semelle" placeholder="Ex: 0.4" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="epaisseur-semelle">Épaisseur du béton (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="epaisseur-semelle" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-semelle">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-semelle">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-longitudinal">Diamètre des barres longitudinales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-longitudinal">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-barres-longitudinal">Nombre de barres longitudinales</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-barres-longitudinal" placeholder="Ex: 4" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-transversal">Diamètre des barres transversales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-transversal">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="espacement-transversal">Espacement des barres transversales (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler"></i>
                    <input type="number" id="espacement-transversal" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="longueur-transversal">Longueur d'une barre transversale (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="longueur-transversal" placeholder="Ex: 0.35" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-semelle">
                <div class="result-item">
                    <span class="result-label">Volume de béton:</span>
                    <span class="result-value" id="volume-semelle">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Quantité de ciment:</span>
                    <span class="result-value" id="ciment-semelle">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de gravier:</span>
                    <span class="result-value" id="gravier-semelle">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-semelle">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier longitudinal:</span>
                    <span class="result-value" id="acier-longitudinal-semelle">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier transversal:</span>
                    <span class="result-value" id="acier-transversal-semelle">0 kg</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4my4KuU" target="_blank" class="product-link">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <div class="product-name">Acier à béton</div>
                        <div class="product-brand">HA 500</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Poteaux amorces -->
        <div class="screen" id="screen-poteaux-amorces">
            <h2 class="screen-title"><i class="fas fa-columns"></i> Poteaux amorces</h2>
            
            <div class="form-group">
                <label for="longueur-poteau-amorce">Longueur du poteau (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="longueur-poteau-amorce" placeholder="Ex: 0.5" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="largeur-poteau-amorce">Largeur du poteau (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="largeur-poteau-amorce" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="hauteur-poteau-amorce">Hauteur du poteau (m)</label>
                <div class="icon-input">
                    <i class="fas fa-arrows-alt-v"></i>
                    <input type="number" id="hauteur-poteau-amorce" placeholder="Ex: 0.5" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-poteaux-amorces">Nombre total de poteaux</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-poteaux-amorces" placeholder="Ex: 10" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-poteau-amorce">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-poteau-amorce">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-barres-longitudinal-poteau-amorce">Nombre de barres longitudinales</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-barres-longitudinal-poteau-amorce" placeholder="Ex: 4" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-barre-longitudinal-poteau-amorce">Diamètre des barres longitudinales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-barre-longitudinal-poteau-amorce">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-barre-transversal-poteau-amorce">Diamètre des barres transversales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-barre-transversal-poteau-amorce">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="espacement-cadres-poteau-amorce">Espacement des cadres (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler"></i>
                    <input type="number" id="espacement-cadres-poteau-amorce" placeholder="Ex: 0.15" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="longueur-cadre-poteau-amorce">Longueur développée d'un cadre (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-combined"></i>
                    <input type="number" id="longueur-cadre-poteau-amorce" placeholder="Ex: 0.8" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-poteaux-amorces">
                <div class="result-item">
                    <span class="result-label">Volume de béton:</span>
                    <span class="result-value" id="volume-poteaux-amorces">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Quantité de ciment:</span>
                    <span class="result-value" id="ciment-poteaux-amorces">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de gravier:</span>
                    <span class="result-value" id="gravier-poteaux-amorces">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-poteaux-amorces">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier longitudinal:</span>
                    <span class="result-value" id="acier-longitudinal-poteaux-amorces">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier transversal:</span>
                    <span class="result-value" id="acier-transversal-poteaux-amorces">0 kg</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4my4KuU" target="_blank" class="product-link">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <div class="product-name">Acier à béton</div>
                        <div class="product-brand">HA 500</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Poteau en élévation -->
        <div class="screen" id="screen-poteau-elevation">
            <h2 class="screen-title"><i class="fas fa-building"></i> Poteau en élévation</h2>
            
            <div class="form-group">
                <label for="longueur-poteau-elevation">Longueur du poteau (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="longueur-poteau-elevation" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="largeur-poteau-elevation">Largeur du poteau (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="largeur-poteau-elevation" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="hauteur-poteau-elevation">Hauteur du poteau (m)</label>
                <div class="icon-input">
                    <i class="fas fa-arrows-alt-v"></i>
                    <input type="number" id="hauteur-poteau-elevation" placeholder="Ex: 1.8" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-poteaux-elevation">Nombre total de poteaux</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-poteaux-elevation" placeholder="Ex: 10" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-poteau-elevation">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-poteau-elevation">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-barres-longitudinal-poteau-elevation">Nombre de barres longitudinales</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-barres-longitudinal-poteau-elevation" placeholder="Ex: 4" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-barre-longitudinal-poteau-elevation">Diamètre des barres longitudinales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-barre-longitudinal-poteau-elevation">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-barre-transversal-poteau-elevation">Diamètre des barres transversales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-barre-transversal-poteau-elevation">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="espacement-cadres-poteau-elevation">Espacement des cadres (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler"></i>
                    <input type="number" id="espacement-cadres-poteau-elevation" placeholder="Ex: 0.15" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="longueur-cadre-poteau-elevation">Longueur développée d'un cadre (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-combined"></i>
                    <input type="number" id="longueur-cadre-poteau-elevation" placeholder="Ex: 0.8" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-poteau-elevation">
                <div class="result-item">
                    <span class="result-label">Volume de béton:</span>
                    <span class="result-value" id="volume-poteau-elevation">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Quantité de ciment:</span>
                    <span class="result-value" id="ciment-poteau-elevation">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de gravier:</span>
                    <span class="result-value" id="gravier-poteau-elevation">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-poteau-elevation">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier longitudinal:</span>
                    <span class="result-value" id="acier-longitudinal-poteau-elevation">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier transversal:</span>
                    <span class="result-value" id="acier-transversal-poteau-elevation">0 kg</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4my4KuU" target="_blank" class="product-link">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <div class="product-name">Acier à béton</div>
                        <div class="product-brand">HA 500</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Chainage de couronnement -->
        <div class="screen" id="screen-chainage-couronnement">
            <h2 class="screen-title"><i class="fas fa-border-top"></i> Chainage de couronnement</h2>
            
            <div class="form-group">
                <label for="largeur-chainage-couronnement">Largeur du chainage (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="largeur-chainage-couronnement" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="hauteur-chainage-couronnement">Hauteur du chainage (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="hauteur-chainage-couronnement" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-chainage-couronnement">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-chainage-couronnement">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-longitudinal-chainage-couronnement">Diamètre des barres longitudinales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-longitudinal-chainage-couronnement">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-barres-longitudinal-chainage-couronnement">Nombre de barres longitudinales</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-barres-longitudinal-chainage-couronnement" placeholder="Ex: 4" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-transversal-chainage-couronnement">Diamètre des barres transversales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-transversal-chainage-couronnement">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="espacement-transversal-chainage-couronnement">Espacement des barres transversales (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler"></i>
                    <input type="number" id="espacement-transversal-chainage-couronnement" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="longueur-transversal-chainage-couronnement">Longueur d'une barre transversale (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="longueur-transversal-chainage-couronnement" placeholder="Ex: 0.15" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-chainage-couronnement">
                <div class="result-item">
                    <span class="result-label">Volume de béton:</span>
                    <span class="result-value" id="volume-chainage-couronnement">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Quantité de ciment:</span>
                    <span class="result-value" id="ciment-chainage-couronnement">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de gravier:</span>
                    <span class="result-value" id="gravier-chainage-couronnement">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-chainage-couronnement">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier longitudinal:</span>
                    <span class="result-value" id="acier-longitudinal-chainage-couronnement">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier transversal:</span>
                    <span class="result-value" id="acier-transversal-chainage-couronnement">0 kg</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4my4KuU" target="_blank" class="product-link">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <div class="product-name">Acier à béton</div>
                        <div class="product-brand">HA 500</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Chainage bas -->
        <div class="screen" id="screen-chainage-bas">
            <h2 class="screen-title"><i class="fas fa-border-bottom"></i> Chainage bas</h2>
            
            <div class="form-group">
                <label for="largeur-chainage-bas">Largeur du chainage (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="largeur-chainage-bas" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="hauteur-chainage-bas">Hauteur du chainage (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="hauteur-chainage-bas" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-chainage-bas">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-chainage-bas">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-longitudinal-chainage-bas">Diamètre des barres longitudinales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-longitudinal-chainage-bas">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="nombre-barres-longitudinal-chainage-bas">Nombre de barres longitudinales</label>
                <div class="icon-input">
                    <i class="fas fa-sort-numeric-up"></i>
                    <input type="number" id="nombre-barres-longitudinal-chainage-bas" placeholder="Ex: 4" min="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="diametre-transversal-chainage-bas">Diamètre des barres transversales (mm)</label>
                <div class="icon-input">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <select id="diametre-transversal-chainage-bas">
                        <option value="6">6 mm</option>
                        <option value="8">8 mm</option>
                        <option value="10">10 mm</option>
                        <option value="12">12 mm</option>
                        <option value="14">14 mm</option>
                        <option value="16">16 mm</option>
                        <option value="20">20 mm</option>
                        <option value="25">25 mm</option>
                        <option value="32">32 mm</option>
                        <option value="40">40 mm</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="espacement-transversal-chainage-bas">Espacement des barres transversales (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler"></i>
                    <input type="number" id="espacement-transversal-chainage-bas" placeholder="Ex: 0.2" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="form-group">
                <label for="longueur-transversal-chainage-bas">Longueur d'une barre transversale (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-horizontal"></i>
                    <input type="number" id="longueur-transversal-chainage-bas" placeholder="Ex: 0.15" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-chainage-bas">
                <div class="result-item">
                    <span class="result-label">Volume de béton:</span>
                    <span class="result-value" id="volume-chainage-bas">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Quantité de ciment:</span>
                    <span class="result-value" id="ciment-chainage-bas">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de gravier:</span>
                    <span class="result-value" id="gravier-chainage-bas">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-chainage-bas">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier longitudinal:</span>
                    <span class="result-value" id="acier-longitudinal-chainage-bas">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Poids d'acier transversal:</span>
                    <span class="result-value" id="acier-transversal-chainage-bas">0 kg</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4my4KuU" target="_blank" class="product-link">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <div class="product-name">Acier à béton</div>
                        <div class="product-brand">HA 500</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Brique plein de 20x20x40 -->
        <div class="screen" id="screen-brique-plein">
            <h2 class="screen-title"><i class="fas fa-th"></i> Brique plein de 20x20x40</h2>
            
            <div class="form-group">
                <label for="hauteur-mur-soubassement">Hauteur du mur de soubassement (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="hauteur-mur-soubassement" placeholder="Ex: 0.6" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-brique-plein">
                <div class="result-item">
                    <span class="result-label">Surface du mur:</span>
                    <span class="result-value" id="surface-brique-plein">0 m²</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Nombre de briques:</span>
                    <span class="result-value" id="nombre-briques-plein">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Masse de ciment:</span>
                    <span class="result-value" id="ciment-brique-plein">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-brique-plein">0 m³</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Brique creuse de 15x20x40 -->
        <div class="screen" id="screen-brique-creuse">
            <h2 class="screen-title"><i class="fas fa-th-large"></i> Brique creuse de 15x20x40</h2>
            
            <div class="form-group">
                <label for="hauteur-mur-brique-creuse">Hauteur du mur (m)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="hauteur-mur-brique-creuse" placeholder="Ex: 1.8" step="0.01" min="0.01">
                </div>
            </div>
            
            <div class="result-container" id="result-brique-creuse">
                <div class="result-item">
                    <span class="result-label">Surface du mur:</span>
                    <span class="result-value" id="surface-brique-creuse">0 m²</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Nombre de briques:</span>
                    <span class="result-value" id="nombre-briques-creuse">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Masse de ciment:</span>
                    <span class="result-value" id="ciment-brique-creuse">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-brique-creuse">0 m³</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/4g1xn11" target="_blank" class="product-link">
                    <i class="fas fa-gem"></i>
                    <div>
                        <div class="product-name">Gravier concassé</div>
                        <div class="product-brand">5/20 mm</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="nextScreen()">
                    <i class="fas fa-arrow-right"></i> Suivant
                </button>
            </div>
        </div>

        <!-- Écran Joint et enduit -->
        <div class="screen" id="screen-joint-enduit">
            <h2 class="screen-title"><i class="fas fa-paint-roller"></i> Joint et enduit</h2>
            
            <div class="form-group">
                <label for="epaisseur-enduit">Épaisseur de l'enduit (cm)</label>
                <div class="icon-input">
                    <i class="fas fa-ruler-vertical"></i>
                    <input type="number" id="epaisseur-enduit" placeholder="Ex: 1.5" step="0.1" min="0.1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="dosage-enduit">Dosage (kg/m³)</label>
                <div class="icon-input">
                    <i class="fas fa-balance-scale"></i>
                    <select id="dosage-enduit">
                        <option value="150">150 kg/m³</option>
                        <option value="200">200 kg/m³</option>
                        <option value="250">250 kg/m³</option>
                        <option value="300">300 kg/m³</option>
                        <option value="350">350 kg/m³</option>
                        <option value="400">400 kg/m³</option>
                    </select>
                </div>
            </div>
            
            <div class="result-container" id="result-joint-enduit">
                <div class="result-item">
                    <span class="result-label">Volume de l'enduit:</span>
                    <span class="result-value" id="volume-enduit">0 m³</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Masse de ciment:</span>
                    <span class="result-value" id="ciment-enduit">0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Volume de sable:</span>
                    <span class="result-value" id="sable-enduit">0 m³</span>
                </div>
            </div>
            
            <div class="product-links">
                <a href="https://amzn.to/45PU83g" target="_blank" class="product-link">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <div class="product-name">Ciment Portland</div>
                        <div class="product-brand">CEM I 42.5R</div>
                    </div>
                </a>
                <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-link">
                    <i class="fas fa-mountain"></i>
                    <div>
                        <div class="product-name">Sable de construction</div>
                        <div class="product-brand">0/4 mm</div>
                    </div>
                </a>
                <a href="https://amzn.to/3JoZ4Vv" target="_blank" class="product-link">
                    <i class="fas fa-tools"></i>
                    <div>
                        <div class="product-name">Kit de maçonnerie</div>
                        <div class="product-brand">Pro complet</div>
                    </div>
                </a>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-success" onclick="showResults()">
                    <i class="fas fa-calculator"></i> Calculer les résultats
                </button>
            </div>
        </div>

        <!-- Écran Résultats -->
        <div class="screen" id="screen-results">
            <h2 class="screen-title"><i class="fas fa-chart-bar"></i> Récapitulatif des matériaux</h2>
            
            <h3>Quantités par élément</h3>
            <div class="mobile-table">
                <table id="table-par-element">
                    <thead>
                        <tr>
                            <th>Élément</th>
                            <th>Ciment (kg)</th>
                            <th>Sacs (50kg)</th>
                            <th>Tonnes</th>
                            <th>Sable (m³)</th>
                            <th>Gravier (m³)</th>
                            <th>Acier (kg)</th>
                            <th>Paquets (100kg)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Les résultats seront insérés ici par JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <h3 style="margin-top: 20px;">Quantités totales</h3>
            <div class="additional-info">
                <div class="info-card">
                    <div class="icon"><i class="fas fa-cubes"></i></div>
                    <div class="value" id="ciment-total-value">0</div>
                    <div class="label">Ciment (kg)</div>
                </div>
                <div class="info-card">
                    <div class="icon"><i class="fas fa-box"></i></div>
                    <div class="value" id="sacs-total-value">0</div>
                    <div class="label">Sacs (50kg)</div>
                </div>
                <div class="info-card">
                    <div class="icon"><i class="fas fa-weight-hanging"></i></div>
                    <div class="value" id="tonnes-total-value">0</div>
                    <div class="label">Tonnes</div>
                </div>
                <div class="info-card">
                    <div class="icon"><i class="fas fa-mountain"></i></div>
                    <div class="value" id="sable-total-value">0</div>
                    <div class="label">Sable (m³)</div>
                </div>
                <div class="info-card">
                    <div class="icon"><i class="fas fa-gem"></i></div>
                    <div class="value" id="gravier-total-value">0</div>
                    <div class="label">Gravier (m³)</div>
                </div>
                <div class="info-card">
                    <div class="icon"><i class="fas fa-dumbbell"></i></div>
                    <div class="value" id="acier-total-value">0</div>
                    <div class="label">Acier (kg)</div>
                </div>
                <div class="info-card">
                    <div class="icon"><i class="fas fa-box-open"></i></div>
                    <div class="value" id="paquets-total-value">0</div>
                    <div class="label">Paquets (100kg)</div>
                </div>
            </div>
            
            <h3 style="margin-top: 20px;">Détail de l'acier par diamètre</h3>
            <div class="mobile-table">
                <table id="table-acier-par-diametre">
                    <thead>
                        <tr>
                            <th>Diamètre (mm)</th>
                            <th>Poids (kg)</th>
                            <th>Paquets (100kg)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Les résultats seront insérés ici par JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="recommended-products">
                <h3>Produits recommandés pour votre projet</h3>
                <div class="products-grid">
                    <a href="https://amzn.to/45PU83g" target="_blank" class="product-card">
                        <div class="icon"><i class="fas fa-cubes"></i></div>
                        <div class="name">Ciment Portland</div>
                        <div class="brand">CEM I 42.5R</div>
                        <div class="description">Ciment de haute qualité pour tous vos travaux de maçonnerie</div>
                        <div class="price">À partir de 8.99€</div>
                    </a>
                    <a href="https://amzn.to/4m23uiJ" target="_blank" class="product-card">
                        <div class="icon"><i class="fas fa-mountain"></i></div>
                        <div class="name">Sable de construction</div>
                        <div class="brand">0/4 mm</div>
                        <div class="description">Sable lavé pour béton et enduit</div>
                        <div class="price">À partir de 35.99€</div>
                    </a>
                    <a href="https://amzn.to/4g1xn11" target="_blank" class="product-card">
                        <div class="icon"><i class="fas fa-gem"></i></div>
                        <div class="name">Gravier concassé</div>
                        <div class="brand">5/20 mm</div>
                        <div class="description">Gravier pour béton et drainage</div>
                        <div class="price">À partir de 42.99€</div>
                    </a>
                    <a href="https://amzn.to/4my4KuU" target="_blank" class="product-card">
                        <div class="icon"><i class="fas fa-dumbbell"></i></div>
                        <div class="name">Acier à béton</div>
                        <div class="brand">HA 500</div>
                        <div class="description">Acier haute adhérence pour béton armé</div>
                        <div class="price">À partir de 12.99€</div>
                    </a>
                    <a href="https://amzn.to/3JoZ4Vv" target="_blank" class="product-card">
                        <div class="icon"><i class="fas fa-tools"></i></div>
                        <div class="name">Kit de maçonnerie</div>
                        <div class="brand">Pro complet</div>
                        <div class="description">Outils essentiels pour vos travaux</div>
                        <div class="price">À partir de 89.99€</div>
                    </a>
                </div>
            </div>
            
            <div class="export-section">
                <button class="btn btn-export" onclick="exportToPDF()">
                    <i class="fas fa-file-pdf"></i> Exporter en PDF
                </button>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="prevScreen()">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" onclick="resetApp()">
                    <i class="fas fa-redo"></i> Recommencer
                </button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-message"></span>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <a href="https://amzn.to/45PU83g" target="_blank" class="footer-link">
                <i class="fas fa-cubes"></i> Ciment Portland
            </a>
            <span class="footer-separator">|</span>
            <a href="https://amzn.to/4m23uiJ" target="_blank" class="footer-link">
                <i class="fas fa-mountain"></i> Sable
            </a>
            <span class="footer-separator">|</span>
            <a href="https://amzn.to/4g1xn11" target="_blank" class="footer-link">
                <i class="fas fa-gem"></i> Gravier
            </a>
            <span class="footer-separator">|</span>
            <a href="https://amzn.to/4my4KuU" target="_blank" class="footer-link">
                <i class="fas fa-dumbbell"></i> Acier
            </a>
            <span class="footer-separator">|</span>
            <a href="https://amzn.to/3JoZ4Vv" target="_blank" class="footer-link">
                <i class="fas fa-tools"></i> Outils
            </a>
        </div>
    </footer>

    <script>
        // Variables globales
        let currentScreen = 0;
        const screens = document.querySelectorAll('.screen');
        const progressBar = document.getElementById('progress-bar');
        
        // Stockage des résultats
        let results = {
            betonProprete: {
                ciment: 0,
                sable: 0,
                gravier: 0,
                acier: {}
            },
            semelle: {
                ciment: 0,
                sable: 0,
                gravier: 0,
                acier: {}
            },
            poteauxAmorces: {
                ciment: 0,
                sable: 0,
                gravier: 0,
                acier: {}
            },
            poteauElevation: {
                ciment: 0,
                sable: 0,
                gravier: 0,
                acier: {}
            },
            chainageCouronnement: {
                ciment: 0,
                sable: 0,
                gravier: 0,
                acier: {}
            },
            chainageBas: {
                ciment: 0,
                sable: 0,
                gravier: 0,
                acier: {}
            },
            briquePlein: {
                ciment: 0,
                sable: 0
            },
            briqueCreuse: {
                ciment: 0,
                sable: 0
            },
            jointEnduit: {
                ciment: 0,
                sable: 0
            }
        };
        
        // Poids linéaire de l'acier en kg/m
        const acierPoidsLineaire = {
            6: 0.222,
            8: 0.395,
            10: 0.617,
            12: 0.888,
            14: 1.208,
            16: 1.578,
            20: 2.466,
            25: 3.853,
            32: 6.313,
            40: 9.864
        };
        
        // Fonctions de navigation
        function nextScreen() {
            if (currentScreen < screens.length - 1) {
                // Sauvegarder les résultats de l'écran actuel
                saveCurrentScreenResults();
                
                screens[currentScreen].classList.remove('active');
                currentScreen++;
                screens[currentScreen].classList.add('active');
                
                // Mettre à jour la barre de progression
                updateProgressBar();
                
                // Calculer les résultats pour le nouvel écran
                calculateCurrentScreenResults();
                
                // Faire défiler vers le haut
                window.scrollTo(0, 0);
            }
        }
        
        function prevScreen() {
            if (currentScreen > 0) {
                screens[currentScreen].classList.remove('active');
                currentScreen--;
                screens[currentScreen].classList.add('active');
                
                // Mettre à jour la barre de progression
                updateProgressBar();
                
                // Faire défiler vers le haut
                window.scrollTo(0, 0);
            }
        }
        
        function updateProgressBar() {
            const progress = ((currentScreen + 1) / screens.length) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        function saveCurrentScreenResults() {
            switch (currentScreen) {
                case 1: // Béton de propreté
                    saveBetonPropreteResults();
                    break;
                case 2: // Semelle filante
                    saveSemelleResults();
                    break;
                case 3: // Poteaux amorces
                    savePoteauxAmorcesResults();
                    break;
                case 4: // Poteau en élévation
                    savePoteauElevationResults();
                    break;
                case 5: // Chainage de couronnement
                    saveChainageCouronnementResults();
                    break;
                case 6: // Chainage bas
                    saveChainageBasResults();
                    break;
                case 7: // Brique plein
                    saveBriquePleinResults();
                    break;
                case 8: // Brique creuse
                    saveBriqueCreuseResults();
                    break;
                case 9: // Joint et enduit
                    saveJointEnduitResults();
                    break;
            }
        }
        
        function calculateCurrentScreenResults() {
            switch (currentScreen) {
                case 1: // Béton de propreté
                    calculateBetonProprete();
                    break;
                case 2: // Semelle filante
                    calculateSemelle();
                    break;
                case 3: // Poteaux amorces
                    calculatePoteauxAmorces();
                    break;
                case 4: // Poteau en élévation
                    calculatePoteauElevation();
                    break;
                case 5: // Chainage de couronnement
                    calculateChainageCouronnement();
                    break;
                case 6: // Chainage bas
                    calculateChainageBas();
                    break;
                case 7: // Brique plein
                    calculateBriquePlein();
                    break;
                case 8: // Brique creuse
                    calculateBriqueCreuse();
                    break;
                case 9: // Joint et enduit
                    calculateJointEnduit();
                    break;
            }
        }
        
        // Fonctions de calcul pour chaque écran
        function calculateBetonProprete() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const largeurFouille = parseFloat(document.getElementById('largeur-fouille-beton').value) || 0;
            const epaisseurBeton = parseFloat(document.getElementById('epaisseur-beton').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-beton').value) || 0;
            
            const volume = perimeter * largeurFouille * epaisseurBeton;
            const ciment = volume * dosage;
            const gravier = volume * 0.8; // 80% du volume
            const sable = volume * 0.4; // 40% du volume
            
            document.getElementById('volume-beton-proprete').textContent = volume.toFixed(2) + ' m³';
            document.getElementById('ciment-beton-proprete').textContent = ciment.toFixed(2) + ' kg';
            document.getElementById('gravier-beton-proprete').textContent = gravier.toFixed(2) + ' m³';
            document.getElementById('sable-beton-proprete').textContent = sable.toFixed(2) + ' m³';
        }
        
        function saveBetonPropreteResults() {
            const volume = parseFloat(document.getElementById('volume-beton-proprete').textContent) || 0;
            const ciment = parseFloat(document.getElementById('ciment-beton-proprete').textContent) || 0;
            const gravier = parseFloat(document.getElementById('gravier-beton-proprete').textContent) || 0;
            const sable = parseFloat(document.getElementById('sable-beton-proprete').textContent) || 0;
            
            results.betonProprete.ciment = ciment;
            results.betonProprete.sable = sable;
            results.betonProprete.gravier = gravier;
        }
        
        function calculateSemelle() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const largeurFouille = parseFloat(document.getElementById('largeur-fouille-semelle').value) || 0;
            const epaisseurSemelle = parseFloat(document.getElementById('epaisseur-semelle').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-semelle').value) || 0;
            const diametreLongitudinal = parseFloat(document.getElementById('diametre-longitudinal').value) || 0;
            const nombreBarresLongitudinal = parseFloat(document.getElementById('nombre-barres-longitudinal').value) || 0;
            const diametreTransversal = parseFloat(document.getElementById('diametre-transversal').value) || 0;
            const espacementTransversal = parseFloat(document.getElementById('espacement-transversal').value) || 0;
            const longueurTransversal = parseFloat(document.getElementById('longueur-transversal').value) || 0;
            
            const volume = perimeter * largeurFouille * epaisseurSemelle;
            const ciment = volume * dosage;
            const gravier = volume * 0.8; // 80% du volume
            const sable = volume * 0.4; // 40% du volume
            
            // Calcul de l'acier longitudinal
            const longueurAcierLongitudinal = nombreBarresLongitudinal * perimeter;
            const poidsAcierLongitudinal = longueurAcierLongitudinal * (acierPoidsLineaire[diametreLongitudinal] || 0);
            
            // Calcul de l'acier transversal
            const nombreBarresTransversal = Math.ceil(perimeter / espacementTransversal);
            const longueurAcierTransversal = nombreBarresTransversal * longueurTransversal;
            const poidsAcierTransversal = longueurAcierTransversal * (acierPoidsLineaire[diametreTransversal] || 0);
            
            document.getElementById('volume-semelle').textContent = volume.toFixed(2) + ' m³';
            document.getElementById('ciment-semelle').textContent = ciment.toFixed(2) + ' kg';
            document.getElementById('gravier-semelle').textContent = gravier.toFixed(2) + ' m³';
            document.getElementById('sable-semelle').textContent = sable.toFixed(2) + ' m³';
            document.getElementById('acier-longitudinal-semelle').textContent = poidsAcierLongitudinal.toFixed(2) + ' kg';
            document.getElementById('acier-transversal-semelle').textContent = poidsAcierTransversal.toFixed(2) + ' kg';
        }
        
        function saveSemelleResults() {
            const ciment = parseFloat(document.getElementById('ciment-semelle').textContent) || 0;
            const gravier = parseFloat(document.getElementById('gravier-semelle').textContent) || 0;
            const sable = parseFloat(document.getElementById('sable-semelle').textContent) || 0;
            const poidsAcierLongitudinal = parseFloat(document.getElementById('acier-longitudinal-semelle').textContent) || 0;
            const poidsAcierTransversal = parseFloat(document.getElementById('acier-transversal-semelle').textContent) || 0;
            const diametreLongitudinal = parseFloat(document.getElementById('diametre-longitudinal').value) || 0;
            const diametreTransversal = parseFloat(document.getElementById('diametre-transversal').value) || 0;
            
            results.semelle.ciment = ciment;
            results.semelle.sable = sable;
            results.semelle.gravier = gravier;
            
            if (diametreLongitudinal > 0) {
                results.semelle.acier[diametreLongitudinal] = (results.semelle.acier[diametreLongitudinal] || 0) + poidsAcierLongitudinal;
            }
            
            if (diametreTransversal > 0) {
                results.semelle.acier[diametreTransversal] = (results.semelle.acier[diametreTransversal] || 0) + poidsAcierTransversal;
            }
        }
        
        function calculatePoteauxAmorces() {
            const longueurPoteau = parseFloat(document.getElementById('longueur-poteau-amorce').value) || 0;
            const largeurPoteau = parseFloat(document.getElementById('largeur-poteau-amorce').value) || 0;
            const hauteurPoteau = parseFloat(document.getElementById('hauteur-poteau-amorce').value) || 0;
            const nombrePoteaux = parseFloat(document.getElementById('nombre-poteaux-amorces').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-poteau-amorce').value) || 0;
            const nombreBarresLongitudinal = parseFloat(document.getElementById('nombre-barres-longitudinal-poteau-amorce').value) || 0;
            const diametreBarreLongitudinal = parseFloat(document.getElementById('diametre-barre-longitudinal-poteau-amorce').value) || 0;
            const diametreBarreTransversal = parseFloat(document.getElementById('diametre-barre-transversal-poteau-amorce').value) || 0;
            const espacementCadres = parseFloat(document.getElementById('espacement-cadres-poteau-amorce').value) || 0;
            const longueurCadre = parseFloat(document.getElementById('longueur-cadre-poteau-amorce').value) || 0;
            
            const volume = longueurPoteau * largeurPoteau * hauteurPoteau * nombrePoteaux;
            const ciment = volume * dosage;
            const gravier = volume * 0.8; // 80% du volume
            const sable = volume * 0.4; // 40% du volume
            
            // Calcul de l'acier longitudinal
            const longueurAcierLongitudinal = nombreBarresLongitudinal * hauteurPoteau * nombrePoteaux;
            const poidsAcierLongitudinal = longueurAcierLongitudinal * (acierPoidsLineaire[diametreBarreLongitudinal] || 0);
            
            // Calcul de l'acier transversal
            const nombreCadres = Math.ceil(hauteurPoteau / espacementCadres) * nombrePoteaux;
            const longueurAcierTransversal = nombreCadres * longueurCadre;
            const poidsAcierTransversal = longueurAcierTransversal * (acierPoidsLineaire[diametreBarreTransversal] || 0);
            
            document.getElementById('volume-poteaux-amorces').textContent = volume.toFixed(2) + ' m³';
            document.getElementById('ciment-poteaux-amorces').textContent = ciment.toFixed(2) + ' kg';
            document.getElementById('gravier-poteaux-amorces').textContent = gravier.toFixed(2) + ' m³';
            document.getElementById('sable-poteaux-amorces').textContent = sable.toFixed(2) + ' m³';
            document.getElementById('acier-longitudinal-poteaux-amorces').textContent = poidsAcierLongitudinal.toFixed(2) + ' kg';
            document.getElementById('acier-transversal-poteaux-amorces').textContent = poidsAcierTransversal.toFixed(2) + ' kg';
        }
        
        function savePoteauxAmorcesResults() {
            const ciment = parseFloat(document.getElementById('ciment-poteaux-amorces').textContent) || 0;
            const gravier = parseFloat(document.getElementById('gravier-poteaux-amorces').textContent) || 0;
            const sable = parseFloat(document.getElementById('sable-poteaux-amorces').textContent) || 0;
            const poidsAcierLongitudinal = parseFloat(document.getElementById('acier-longitudinal-poteaux-amorces').textContent) || 0;
            const poidsAcierTransversal = parseFloat(document.getElementById('acier-transversal-poteaux-amorces').textContent) || 0;
            const diametreBarreLongitudinal = parseFloat(document.getElementById('diametre-barre-longitudinal-poteau-amorce').value) || 0;
            const diametreBarreTransversal = parseFloat(document.getElementById('diametre-barre-transversal-poteau-amorce').value) || 0;
            
            results.poteauxAmorces.ciment = ciment;
            results.poteauxAmorces.sable = sable;
            results.poteauxAmorces.gravier = gravier;
            
            if (diametreBarreLongitudinal > 0) {
                results.poteauxAmorces.acier[diametreBarreLongitudinal] = (results.poteauxAmorces.acier[diametreBarreLongitudinal] || 0) + poidsAcierLongitudinal;
            }
            
            if (diametreBarreTransversal > 0) {
                results.poteauxAmorces.acier[diametreBarreTransversal] = (results.poteauxAmorces.acier[diametreBarreTransversal] || 0) + poidsAcierTransversal;
            }
        }
        
        function calculatePoteauElevation() {
            const longueurPoteau = parseFloat(document.getElementById('longueur-poteau-elevation').value) || 0;
            const largeurPoteau = parseFloat(document.getElementById('largeur-poteau-elevation').value) || 0;
            const hauteurPoteau = parseFloat(document.getElementById('hauteur-poteau-elevation').value) || 0;
            const nombrePoteaux = parseFloat(document.getElementById('nombre-poteaux-elevation').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-poteau-elevation').value) || 0;
            const nombreBarresLongitudinal = parseFloat(document.getElementById('nombre-barres-longitudinal-poteau-elevation').value) || 0;
            const diametreBarreLongitudinal = parseFloat(document.getElementById('diametre-barre-longitudinal-poteau-elevation').value) || 0;
            const diametreBarreTransversal = parseFloat(document.getElementById('diametre-barre-transversal-poteau-elevation').value) || 0;
            const espacementCadres = parseFloat(document.getElementById('espacement-cadres-poteau-elevation').value) || 0;
            const longueurCadre = parseFloat(document.getElementById('longueur-cadre-poteau-elevation').value) || 0;
            
            const volume = longueurPoteau * largeurPoteau * hauteurPoteau * nombrePoteaux;
            const ciment = volume * dosage;
            const gravier = volume * 0.8; // 80% du volume
            const sable = volume * 0.4; // 40% du volume
            
            // Calcul de l'acier longitudinal
            const longueurAcierLongitudinal = nombreBarresLongitudinal * hauteurPoteau * nombrePoteaux;
            const poidsAcierLongitudinal = longueurAcierLongitudinal * (acierPoidsLineaire[diametreBarreLongitudinal] || 0);
            
            // Calcul de l'acier transversal
            const nombreCadres = Math.ceil(hauteurPoteau / espacementCadres) * nombrePoteaux;
            const longueurAcierTransversal = nombreCadres * longueurCadre;
            const poidsAcierTransversal = longueurAcierTransversal * (acierPoidsLineaire[diametreBarreTransversal] || 0);
            
            document.getElementById('volume-poteau-elevation').textContent = volume.toFixed(2) + ' m³';
            document.getElementById('ciment-poteau-elevation').textContent = ciment.toFixed(2) + ' kg';
            document.getElementById('gravier-poteau-elevation').textContent = gravier.toFixed(2) + ' m³';
            document.getElementById('sable-poteau-elevation').textContent = sable.toFixed(2) + ' m³';
            document.getElementById('acier-longitudinal-poteau-elevation').textContent = poidsAcierLongitudinal.toFixed(2) + ' kg';
            document.getElementById('acier-transversal-poteau-elevation').textContent = poidsAcierTransversal.toFixed(2) + ' kg';
        }
        
        function savePoteauElevationResults() {
            const ciment = parseFloat(document.getElementById('ciment-poteau-elevation').textContent) || 0;
            const gravier = parseFloat(document.getElementById('gravier-poteau-elevation').textContent) || 0;
            const sable = parseFloat(document.getElementById('sable-poteau-elevation').textContent) || 0;
            const poidsAcierLongitudinal = parseFloat(document.getElementById('acier-longitudinal-poteau-elevation').textContent) || 0;
            const poidsAcierTransversal = parseFloat(document.getElementById('acier-transversal-poteau-elevation').textContent) || 0;
            const diametreBarreLongitudinal = parseFloat(document.getElementById('diametre-barre-longitudinal-poteau-elevation').value) || 0;
            const diametreBarreTransversal = parseFloat(document.getElementById('diametre-barre-transversal-poteau-elevation').value) || 0;
            
            results.poteauElevation.ciment = ciment;
            results.poteauElevation.sable = sable;
            results.poteauElevation.gravier = gravier;
            
            if (diametreBarreLongitudinal > 0) {
                results.poteauElevation.acier[diametreBarreLongitudinal] = (results.poteauElevation.acier[diametreBarreLongitudinal] || 0) + poidsAcierLongitudinal;
            }
            
            if (diametreBarreTransversal > 0) {
                results.poteauElevation.acier[diametreBarreTransversal] = (results.poteauElevation.acier[diametreBarreTransversal] || 0) + poidsAcierTransversal;
            }
        }
        
        function calculateChainageCouronnement() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const largeurChainage = parseFloat(document.getElementById('largeur-chainage-couronnement').value) || 0;
            const hauteurChainage = parseFloat(document.getElementById('hauteur-chainage-couronnement').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-chainage-couronnement').value) || 0;
            const diametreLongitudinal = parseFloat(document.getElementById('diametre-longitudinal-chainage-couronnement').value) || 0;
            const nombreBarresLongitudinal = parseFloat(document.getElementById('nombre-barres-longitudinal-chainage-couronnement').value) || 0;
            const diametreTransversal = parseFloat(document.getElementById('diametre-transversal-chainage-couronnement').value) || 0;
            const espacementTransversal = parseFloat(document.getElementById('espacement-transversal-chainage-couronnement').value) || 0;
            const longueurTransversal = parseFloat(document.getElementById('longueur-transversal-chainage-couronnement').value) || 0;
            
            const volume = perimeter * largeurChainage * hauteurChainage;
            const ciment = volume * dosage;
            const gravier = volume * 0.8; // 80% du volume
            const sable = volume * 0.4; // 40% du volume
            
            // Calcul de l'acier longitudinal
            const longueurAcierLongitudinal = nombreBarresLongitudinal * perimeter;
            const poidsAcierLongitudinal = longueurAcierLongitudinal * (acierPoidsLineaire[diametreLongitudinal] || 0);
            
            // Calcul de l'acier transversal
            const nombreBarresTransversal = Math.ceil(perimeter / espacementTransversal);
            const longueurAcierTransversal = nombreBarresTransversal * longueurTransversal;
            const poidsAcierTransversal = longueurAcierTransversal * (acierPoidsLineaire[diametreTransversal] || 0);
            
            document.getElementById('volume-chainage-couronnement').textContent = volume.toFixed(2) + ' m³';
            document.getElementById('ciment-chainage-couronnement').textContent = ciment.toFixed(2) + ' kg';
            document.getElementById('gravier-chainage-couronnement').textContent = gravier.toFixed(2) + ' m³';
            document.getElementById('sable-chainage-couronnement').textContent = sable.toFixed(2) + ' m³';
            document.getElementById('acier-longitudinal-chainage-couronnement').textContent = poidsAcierLongitudinal.toFixed(2) + ' kg';
            document.getElementById('acier-transversal-chainage-couronnement').textContent = poidsAcierTransversal.toFixed(2) + ' kg';
        }
        
        function saveChainageCouronnementResults() {
            const ciment = parseFloat(document.getElementById('ciment-chainage-couronnement').textContent) || 0;
            const gravier = parseFloat(document.getElementById('gravier-chainage-couronnement').textContent) || 0;
            const sable = parseFloat(document.getElementById('sable-chainage-couronnement').textContent) || 0;
            const poidsAcierLongitudinal = parseFloat(document.getElementById('acier-longitudinal-chainage-couronnement').textContent) || 0;
            const poidsAcierTransversal = parseFloat(document.getElementById('acier-transversal-chainage-couronnement').textContent) || 0;
            const diametreLongitudinal = parseFloat(document.getElementById('diametre-longitudinal-chainage-couronnement').value) || 0;
            const diametreTransversal = parseFloat(document.getElementById('diametre-transversal-chainage-couronnement').value) || 0;
            
            results.chainageCouronnement.ciment = ciment;
            results.chainageCouronnement.sable = sable;
            results.chainageCouronnement.gravier = gravier;
            
            if (diametreLongitudinal > 0) {
                results.chainageCouronnement.acier[diametreLongitudinal] = (results.chainageCouronnement.acier[diametreLongitudinal] || 0) + poidsAcierLongitudinal;
            }
            
            if (diametreTransversal > 0) {
                results.chainageCouronnement.acier[diametreTransversal] = (results.chainageCouronnement.acier[diametreTransversal] || 0) + poidsAcierTransversal;
            }
        }
        
        function calculateChainageBas() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const largeurChainage = parseFloat(document.getElementById('largeur-chainage-bas').value) || 0;
            const hauteurChainage = parseFloat(document.getElementById('hauteur-chainage-bas').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-chainage-bas').value) || 0;
            const diametreLongitudinal = parseFloat(document.getElementById('diametre-longitudinal-chainage-bas').value) || 0;
            const nombreBarresLongitudinal = parseFloat(document.getElementById('nombre-barres-longitudinal-chainage-bas').value) || 0;
            const diametreTransversal = parseFloat(document.getElementById('diametre-transversal-chainage-bas').value) || 0;
            const espacementTransversal = parseFloat(document.getElementById('espacement-transversal-chainage-bas').value) || 0;
            const longueurTransversal = parseFloat(document.getElementById('longueur-transversal-chainage-bas').value) || 0;
            
            const volume = perimeter * largeurChainage * hauteurChainage;
            const ciment = volume * dosage;
            const gravier = volume * 0.8; // 80% du volume
            const sable = volume * 0.4; // 40% du volume
            
            // Calcul de l'acier longitudinal
            const longueurAcierLongitudinal = nombreBarresLongitudinal * perimeter;
            const poidsAcierLongitudinal = longueurAcierLongitudinal * (acierPoidsLineaire[diametreLongitudinal] || 0);
            
            // Calcul de l'acier transversal
            const nombreBarresTransversal = Math.ceil(perimeter / espacementTransversal);
            const longueurAcierTransversal = nombreBarresTransversal * longueurTransversal;
            const poidsAcierTransversal = longueurAcierTransversal * (acierPoidsLineaire[diametreTransversal] || 0);
            
            document.getElementById('volume-chainage-bas').textContent = volume.toFixed(2) + ' m³';
            document.getElementById('ciment-chainage-bas').textContent = ciment.toFixed(2) + ' kg';
            document.getElementById('gravier-chainage-bas').textContent = gravier.toFixed(2) + ' m³';
            document.getElementById('sable-chainage-bas').textContent = sable.toFixed(2) + ' m³';
            document.getElementById('acier-longitudinal-chainage-bas').textContent = poidsAcierLongitudinal.toFixed(2) + ' kg';
            document.getElementById('acier-transversal-chainage-bas').textContent = poidsAcierTransversal.toFixed(2) + ' kg';
        }
        
        function saveChainageBasResults() {
            const ciment = parseFloat(document.getElementById('ciment-chainage-bas').textContent) || 0;
            const gravier = parseFloat(document.getElementById('gravier-chainage-bas').textContent) || 0;
            const sable = parseFloat(document.getElementById('sable-chainage-bas').textContent) || 0;
            const poidsAcierLongitudinal = parseFloat(document.getElementById('acier-longitudinal-chainage-bas').textContent) || 0;
            const poidsAcierTransversal = parseFloat(document.getElementById('acier-transversal-chainage-bas').textContent) || 0;
            const diametreLongitudinal = parseFloat(document.getElementById('diametre-longitudinal-chainage-bas').value) || 0;
            const diametreTransversal = parseFloat(document.getElementById('diametre-transversal-chainage-bas').value) || 0;
            
            results.chainageBas.ciment = ciment;
            results.chainageBas.sable = sable;
            results.chainageBas.gravier = gravier;
            
            if (diametreLongitudinal > 0) {
                results.chainageBas.acier[diametreLongitudinal] = (results.chainageBas.acier[diametreLongitudinal] || 0) + poidsAcierLongitudinal;
            }
            
            if (diametreTransversal > 0) {
                results.chainageBas.acier[diametreTransversal] = (results.chainageBas.acier[diametreTransversal] || 0) + poidsAcierTransversal;
            }
        }
        
        function calculateBriquePlein() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const hauteurMur = parseFloat(document.getElementById('hauteur-mur-soubassement').value) || 0;
            
            const surface = perimeter * hauteurMur;
            const nombreBriques = surface * 12;
            const masseCiment = (nombreBriques / 18) * 50;
            const volumeSable = (masseCiment / 50) * 0.20;
            
            document.getElementById('surface-brique-plein').textContent = surface.toFixed(2) + ' m²';
            document.getElementById('nombre-briques-plein').textContent = Math.ceil(nombreBriques);
            document.getElementById('ciment-brique-plein').textContent = masseCiment.toFixed(2) + ' kg';
            document.getElementById('sable-brique-plein').textContent = volumeSable.toFixed(2) + ' m³';
        }
        
        function saveBriquePleinResults() {
            const masseCiment = parseFloat(document.getElementById('ciment-brique-plein').textContent) || 0;
            const volumeSable = parseFloat(document.getElementById('sable-brique-plein').textContent) || 0;
            
            results.briquePlein.ciment = masseCiment;
            results.briquePlein.sable = volumeSable;
        }
        
        function calculateBriqueCreuse() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const hauteurMur = parseFloat(document.getElementById('hauteur-mur-brique-creuse').value) || 0;
            
            const surface = perimeter * hauteurMur;
            const nombreBriques = surface * 12;
            const masseCiment = (nombreBriques / 28) * 50;
            const volumeSable = (masseCiment / 50) * 0.20;
            
            document.getElementById('surface-brique-creuse').textContent = surface.toFixed(2) + ' m²';
            document.getElementById('nombre-briques-creuse').textContent = Math.ceil(nombreBriques);
            document.getElementById('ciment-brique-creuse').textContent = masseCiment.toFixed(2) + ' kg';
            document.getElementById('sable-brique-creuse').textContent = volumeSable.toFixed(2) + ' m³';
        }
        
        function saveBriqueCreuseResults() {
            const masseCiment = parseFloat(document.getElementById('ciment-brique-creuse').textContent) || 0;
            const volumeSable = parseFloat(document.getElementById('sable-brique-creuse').textContent) || 0;
            
            results.briqueCreuse.ciment = masseCiment;
            results.briqueCreuse.sable = volumeSable;
        }
        
        function calculateJointEnduit() {
            const perimeter = parseFloat(document.getElementById('perimeter').value) || 0;
            const hauteurMurSoubassement = parseFloat(document.getElementById('hauteur-mur-soubassement').value) || 0;
            const hauteurMurBriqueCreuse = parseFloat(document.getElementById('hauteur-mur-brique-creuse').value) || 0;
            const epaisseurEnduit = parseFloat(document.getElementById('epaisseur-enduit').value) || 0;
            const dosage = parseFloat(document.getElementById('dosage-enduit').value) || 0;
            
            const surfaceMur = perimeter * (hauteurMurSoubassement + hauteurMurBriqueCreuse);
            const volumeEnduit = surfaceMur * (epaisseurEnduit / 100); // Conversion cm en m
            const masseCiment = volumeEnduit * dosage;
            const volumeSable = volumeEnduit * 1.2; // 120% du volume
            
            document.getElementById('volume-enduit').textContent = volumeEnduit.toFixed(2) + ' m³';
            document.getElementById('ciment-enduit').textContent = masseCiment.toFixed(2) + ' kg';
            document.getElementById('sable-enduit').textContent = volumeSable.toFixed(2) + ' m³';
        }
        
        function saveJointEnduitResults() {
            const masseCiment = parseFloat(document.getElementById('ciment-enduit').textContent) || 0;
            const volumeSable = parseFloat(document.getElementById('sable-enduit').textContent) || 0;
            
            results.jointEnduit.ciment = masseCiment;
            results.jointEnduit.sable = volumeSable;
        }
        
        function showResults() {
            // Sauvegarder les résultats de l'écran actuel
            saveCurrentScreenResults();
            
            // Passer à l'écran des résultats
            screens[currentScreen].classList.remove('active');
            currentScreen = screens.length - 1;
            screens[currentScreen].classList.add('active');
            
            // Mettre à jour la barre de progression
            updateProgressBar();
            
            // Calculer et afficher les résultats totaux
            calculateTotalResults();
            
            // Faire défiler vers le haut
            window.scrollTo(0, 0);
            
            // Afficher une notification
            showNotification("Calculs terminés !");
        }
        
        function calculateTotalResults() {
            // Calculer les totaux
            let totalCiment = 0;
            let totalSable = 0;
            let totalGravier = 0;
            let totalAcier = 0;
            let acierParDiametre = {};
            
            // Tableau des quantités par élément
            const tableParElement = document.querySelector('#table-par-element tbody');
            tableParElement.innerHTML = '';
            
            // Béton de propreté
            totalCiment += results.betonProprete.ciment;
            totalSable += results.betonProprete.sable;
            totalGravier += results.betonProprete.gravier;
            
            const sacsBetonProprete = results.betonProprete.ciment / 50;
            const tonnesBetonProprete = sacsBetonProprete / 20;
            
            const rowBetonProprete = document.createElement('tr');
            rowBetonProprete.innerHTML = `
                <td>Béton de propreté</td>
                <td>${results.betonProprete.ciment.toFixed(2)}</td>
                <td>${sacsBetonProprete.toFixed(2)}</td>
                <td>${tonnesBetonProprete.toFixed(2)}</td>
                <td>${results.betonProprete.sable.toFixed(2)}</td>
                <td>${results.betonProprete.gravier.toFixed(2)}</td>
                <td>0</td>
                <td>0</td>
            `;
            tableParElement.appendChild(rowBetonProprete);
            
            // Semelle
            totalCiment += results.semelle.ciment;
            totalSable += results.semelle.sable;
            totalGravier += results.semelle.gravier;
            
            let acierSemelle = 0;
            for (const diametre in results.semelle.acier) {
                acierSemelle += results.semelle.acier[diametre];
                acierParDiametre[diametre] = (acierParDiametre[diametre] || 0) + results.semelle.acier[diametre];
            }
            totalAcier += acierSemelle;
            
            const sacsSemelle = results.semelle.ciment / 50;
            const tonnesSemelle = sacsSemelle / 20;
            const paquetsSemelle = acierSemelle / 100;
            
            const rowSemelle = document.createElement('tr');
            rowSemelle.innerHTML = `
                <td>Semelle filante</td>
                <td>${results.semelle.ciment.toFixed(2)}</td>
                <td>${sacsSemelle.toFixed(2)}</td>
                <td>${tonnesSemelle.toFixed(2)}</td>
                <td>${results.semelle.sable.toFixed(2)}</td>
                <td>${results.semelle.gravier.toFixed(2)}</td>
                <td>${acierSemelle.toFixed(2)}</td>
                <td>${paquetsSemelle.toFixed(2)}</td>
            `;
            tableParElement.appendChild(rowSemelle);
            
            // Poteaux amorces
            totalCiment += results.poteauxAmorces.ciment;
            totalSable += results.poteauxAmorces.sable;
            totalGravier += results.poteauxAmorces.gravier;
            
            let acierPoteauxAmorces = 0;
            for (const diametre in results.poteauxAmorces.acier) {
                acierPoteauxAmorces += results.poteauxAmorces.acier[diametre];
                acierParDiametre[diametre] = (acierParDiametre[diametre] || 0) + results.poteauxAmorces.acier[diametre];
            }
            totalAcier += acierPoteauxAmorces;
            
            const sacsPoteauxAmorces = results.poteauxAmorces.ciment / 50;
            const tonnesPoteauxAmorces = sacsPoteauxAmorces / 20;
            const paquetsPoteauxAmorces = acierPoteauxAmorces / 100;
            
            const rowPoteauxAmorces = document.createElement('tr');
            rowPoteauxAmorces.innerHTML = `
                <td>Poteaux amorces</td>
                <td>${results.poteauxAmorces.ciment.toFixed(2)}</td>
                <td>${sacsPoteauxAmorces.toFixed(2)}</td>
                <td>${tonnesPoteauxAmorces.toFixed(2)}</td>
                <td>${results.poteauxAmorces.sable.toFixed(2)}</td>
                <td>${results.poteauxAmorces.gravier.toFixed(2)}</td>
                <td>${acierPoteauxAmorces.toFixed(2)}</td>
                <td>${paquetsPoteauxAmorces.toFixed(2)}</td>
            `;
            tableParElement.appendChild(rowPoteauxAmorces);
            
            // Poteau en élévation
            totalCiment += results.poteauElevation.ciment;
            totalSable += results.poteauElevation.sable;
            totalGravier += results.poteauElevation.gravier;
            
            let acierPoteauElevation = 0;
            for (const diametre in results.poteauElevation.acier) {
                acierPoteauElevation += results.poteauElevation.acier[diametre];
                acierParDiametre[diametre] = (acierParDiametre[diametre] || 0) + results.poteauElevation.acier[diametre];
            }
            totalAcier += acierPoteauElevation;
            
            const sacsPoteauElevation = results.poteauElevation.ciment / 50;
            const tonnesPoteauElevation = sacsPoteauElevation / 20;
            const paquetsPoteauElevation = acierPoteauElevation / 100;
            
            const rowPoteauElevation = document.createElement('tr');
            rowPoteauElevation.innerHTML = `
                <td>Poteau en élévation</td>
                <td>${results.poteauElevation.ciment.toFixed(2)}</td>
                <td>${sacsPoteauElevation.toFixed(2)}</td>
                <td>${tonnesPoteauElevation.toFixed(2)}</td>
                <td>${results.poteauElevation.sable.toFixed(2)}</td>
                <td>${results.poteauElevation.gravier.toFixed(2)}</td>
                <td>${acierPoteauElevation.toFixed(2)}</td>
                <td>${paquetsPoteauElevation.toFixed(2)}</td>
            `;
            tableParElement.appendChild(rowPoteauElevation);
            
            // Chainage de couronnement
            totalCiment += results.chainageCouronnement.ciment;
            totalSable += results.chainageCouronnement.sable;
            totalGravier += results.chainageCouronnement.gravier;
            
            let acierChainageCouronnement = 0;
            for (const diametre in results.chainageCouronnement.acier) {
                acierChainageCouronnement += results.chainageCouronnement.acier[diametre];
                acierParDiametre[diametre] = (acierParDiametre[diametre] || 0) + results.chainageCouronnement.acier[diametre];
            }
            totalAcier += acierChainageCouronnement;
            
            const sacsChainageCouronnement = results.chainageCouronnement.ciment / 50;
            const tonnesChainageCouronnement = sacsChainageCouronnement / 20;
            const paquetsChainageCouronnement = acierChainageCouronnement / 100;
            
            const rowChainageCouronnement = document.createElement('tr');
            rowChainageCouronnement.innerHTML = `
                <td>Chainage de couronnement</td>
                <td>${results.chainageCouronnement.ciment.toFixed(2)}</td>
                <td>${sacsChainageCouronnement.toFixed(2)}</td>
                <td>${tonnesChainageCouronnement.toFixed(2)}</td>
                <td>${results.chainageCouronnement.sable.toFixed(2)}</td>
                <td>${results.chainageCouronnement.gravier.toFixed(2)}</td>
                <td>${acierChainageCouronnement.toFixed(2)}</td>
                <td>${paquetsChainageCouronnement.toFixed(2)}</td>
            `;
            tableParElement.appendChild(rowChainageCouronnement);
            
            // Chainage bas
            totalCiment += results.chainageBas.ciment;
            totalSable += results.chainageBas.sable;
            totalGravier += results.chainageBas.gravier;
            
            let acierChainageBas = 0;
            for (const diametre in results.chainageBas.acier) {
                acierChainageBas += results.chainageBas.acier[diametre];
                acierParDiametre[diametre] = (acierParDiametre[diametre] || 0) + results.chainageBas.acier[diametre];
            }
            totalAcier += acierChainageBas;
            
            const sacsChainageBas = results.chainageBas.ciment / 50;
            const tonnesChainageBas = sacsChainageBas / 20;
            const paquetsChainageBas = acierChainageBas / 100;
            
            const rowChainageBas = document.createElement('tr');
            rowChainageBas.innerHTML = `
                <td>Chainage bas</td>
                <td>${results.chainageBas.ciment.toFixed(2)}</td>
                <td>${sacsChainageBas.toFixed(2)}</td>
                <td>${tonnesChainageBas.toFixed(2)}</td>
                <td>${results.chainageBas.sable.toFixed(2)}</td>
                <td>${results.chainageBas.gravier.toFixed(2)}</td>
                <td>${acierChainageBas.toFixed(2)}</td>
                <td>${paquetsChainageBas.toFixed(2)}</td>
            `;
            tableParElement.appendChild(rowChainageBas);
            
            // Brique plein
            totalCiment += results.briquePlein.ciment;
            totalSable += results.briquePlein.sable;
            
            const sacsBriquePlein = results.briquePlein.ciment / 50;
            const tonnesBriquePlein = sacsBriquePlein / 20;
            
            const rowBriquePlein = document.createElement('tr');
            rowBriquePlein.innerHTML = `
                <td>Brique plein de 20x20x40</td>
                <td>${results.briquePlein.ciment.toFixed(2)}</td>
                <td>${sacsBriquePlein.toFixed(2)}</td>
                <td>${tonnesBriquePlein.toFixed(2)}</td>
                <td>${results.briquePlein.sable.toFixed(2)}</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
            `;
            tableParElement.appendChild(rowBriquePlein);
            
            // Brique creuse
            totalCiment += results.briqueCreuse.ciment;
            totalSable += results.briqueCreuse.sable;
            
            const sacsBriqueCreuse = results.briqueCreuse.ciment / 50;
            const tonnesBriqueCreuse = sacsBriqueCreuse / 20;
            
            const rowBriqueCreuse = document.createElement('tr');
            rowBriqueCreuse.innerHTML = `
                <td>Brique creuse de 15x20x40</td>
                <td>${results.briqueCreuse.ciment.toFixed(2)}</td>
                <td>${sacsBriqueCreuse.toFixed(2)}</td>
                <td>${tonnesBriqueCreuse.toFixed(2)}</td>
                <td>${results.briqueCreuse.sable.toFixed(2)}</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
            `;
            tableParElement.appendChild(rowBriqueCreuse);
            
            // Joint et enduit
            totalCiment += results.jointEnduit.ciment;
            totalSable += results.jointEnduit.sable;
            
            const sacsJointEnduit = results.jointEnduit.ciment / 50;
            const tonnesJointEnduit = sacsJointEnduit / 20;
            
            const rowJointEnduit = document.createElement('tr');
            rowJointEnduit.innerHTML = `
                <td>Joint et enduit</td>
                <td>${results.jointEnduit.ciment.toFixed(2)}</td>
                <td>${sacsJointEnduit.toFixed(2)}</td>
                <td>${tonnesJointEnduit.toFixed(2)}</td>
                <td>${results.jointEnduit.sable.toFixed(2)}</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
            `;
            tableParElement.appendChild(rowJointEnduit);
            
            // Calculer les totaux finaux
            const totalSacs = totalCiment / 50;
            const totalTonnes = totalSacs / 20;
            const totalPaquets = totalAcier / 100;
            
            // Afficher les totaux dans les cartes
            document.getElementById('ciment-total-value').textContent = totalCiment.toFixed(0);
            document.getElementById('sacs-total-value').textContent = totalSacs.toFixed(1);
            document.getElementById('tonnes-total-value').textContent = totalTonnes.toFixed(2);
            document.getElementById('sable-total-value').textContent = totalSable.toFixed(1);
            document.getElementById('gravier-total-value').textContent = totalGravier.toFixed(1);
            document.getElementById('acier-total-value').textContent = totalAcier.toFixed(1);
            document.getElementById('paquets-total-value').textContent = totalPaquets.toFixed(1);
            
            // Tableau de l'acier par diamètre
            const tableAcierParDiametre = document.querySelector('#table-acier-par-diametre tbody');
            tableAcierParDiametre.innerHTML = '';
            
            // Trier les diamètres
            const diametres = Object.keys(acierParDiametre).sort((a, b) => parseInt(a) - parseInt(b));
            
            for (const diametre of diametres) {
                const paquets = acierParDiametre[diametre] / 100;
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${diametre}</td>
                    <td>${acierParDiametre[diametre].toFixed(2)}</td>
                    <td>${paquets.toFixed(2)}</td>
                `;
                tableAcierParDiametre.appendChild(row);
            }
        }
        
        function exportToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Ajouter un titre
            doc.setFontSize(18);
            doc.text('Rapport de calcul de clôture', 105, 15, { align: 'center' });
            
            // Date du rapport
            doc.setFontSize(10);
            const date = new Date().toLocaleDateString('fr-FR');
            doc.text(`Date: ${date}`, 105, 25, { align: 'center' });
            
            // Tableau des quantités par élément
            doc.setFontSize(14);
            doc.text('Quantités par élément', 20, 40);
            
            const tableData = [];
            const headers = ['Élément', 'Ciment (kg)', 'Sacs (50kg)', 'Tonnes', 'Sable (m³)', 'Gravier (m³)', 'Acier (kg)', 'Paquets (100kg)'];
            
            // Récupérer les données du tableau
            const tableRows = document.querySelectorAll('#table-par-element tbody tr');
            tableRows.forEach(row => {
                const rowData = [];
                row.querySelectorAll('td').forEach(cell => {
                    rowData.push(cell.textContent);
                });
                tableData.push(rowData);
            });
            
            // Ajouter le tableau au PDF
            doc.autoTable({
                head: [headers],
                body: tableData,
                startY: 50,
                theme: 'grid',
                styles: {
                    fontSize: 8,
                    cellPadding: 3
                },
                headStyles: {
                    fillColor: [52, 152, 219],
                    textColor: 255
                }
            });
            
            // Quantités totales
            const finalY = doc.lastAutoTable.finalY + 20;
            doc.setFontSize(14);
            doc.text('Quantités totales', 20, finalY);
            
            // Récupérer les totaux
            const totalCiment = document.getElementById('ciment-total-value').textContent;
            const totalSacs = document.getElementById('sacs-total-value').textContent;
            const totalTonnes = document.getElementById('tonnes-total-value').textContent;
            const totalSable = document.getElementById('sable-total-value').textContent;
            const totalGravier = document.getElementById('gravier-total-value').textContent;
            const totalAcier = document.getElementById('acier-total-value').textContent;
            const totalPaquets = document.getElementById('paquets-total-value').textContent;
            
            // Tableau des totaux
            const totalsData = [
                ['Ciment (kg)', totalCiment],
                ['Sacs (50kg)', totalSacs],
                ['Tonnes', totalTonnes],
                ['Sable (m³)', totalSable],
                ['Gravier (m³)', totalGravier],
                ['Acier (kg)', totalAcier],
                ['Paquets (100kg)', totalPaquets]
            ];
            
            doc.autoTable({
                head: [['Matériau', 'Quantité']],
                body: totalsData,
                startY: finalY + 10,
                theme: 'grid',
                styles: {
                    fontSize: 10,
                    cellPadding: 3
                },
                headStyles: {
                    fillColor: [52, 152, 219],
                    textColor: 255
                }
            });
            
            // Détail de l'acier par diamètre
            const acierY = doc.lastAutoTable.finalY + 20;
            doc.setFontSize(14);
            doc.text('Détail de l\'acier par diamètre', 20, acierY);
            
            // Récupérer les données d'acier
            const acierData = [];
            const acierRows = document.querySelectorAll('#table-acier-par-diametre tbody tr');
            acierRows.forEach(row => {
                const rowData = [];
                row.querySelectorAll('td').forEach(cell => {
                    rowData.push(cell.textContent);
                });
                acierData.push(rowData);
            });
            
            doc.autoTable({
                head: [['Diamètre (mm)', 'Poids (kg)', 'Paquets (100kg)']],
                body: acierData,
                startY: acierY + 10,
                theme: 'grid',
                styles: {
                    fontSize: 10,
                    cellPadding: 3
                },
                headStyles: {
                    fillColor: [52, 152, 219],
                    textColor: 255
                }
            });
            
            // Produits recommandés
            const productsY = doc.lastAutoTable.finalY + 20;
            doc.setFontSize(14);
            doc.text('Produits recommandés', 20, productsY);
            
            const products = [
                { name: 'Ciment Portland CEM I 42.5R', url: 'https://amzn.to/45PU83g' },
                { name: 'Sable de construction 0/4 mm', url: 'https://amzn.to/4m23uiJ' },
                { name: 'Gravier concassé 5/20 mm', url: 'https://amzn.to/4g1xn11' },
                { name: 'Acier à béton HA 500', url: 'https://amzn.to/4my4KuU' },
                { name: 'Kit de maçonnerie Pro complet', url: 'https://amzn.to/3JoZ4Vv' }
            ];
            
            products.forEach((product, index) => {
                doc.setFontSize(10);
                doc.text(`${index + 1}. ${product.name}`, 25, productsY + 15 + (index * 8));
            });
            
            // Sauvegarder le PDF
            doc.save('rapport_calcul_cloture.pdf');
            
            // Afficher une notification
            showNotification("PDF exporté avec succès !");
        }
        
        function resetApp() {
            // Réinitialiser les variables
            currentScreen = 0;
            
            // Réinitialiser les résultats
            results = {
                betonProprete: {
                    ciment: 0,
                    sable: 0,
                    gravier: 0,
                    acier: {}
                },
                semelle: {
                    ciment: 0,
                    sable: 0,
                    gravier: 0,
                    acier: {}
                },
                poteauxAmorces: {
                    ciment: 0,
                    sable: 0,
                    gravier: 0,
                    acier: {}
                },
                poteauElevation: {
                    ciment: 0,
                    sable: 0,
                    gravier: 0,
                    acier: {}
                },
                chainageCouronnement: {
                    ciment: 0,
                    sable: 0,
                    gravier: 0,
                    acier: {}
                },
                chainageBas: {
                    ciment: 0,
                    sable: 0,
                    gravier: 0,
                    acier: {}
                },
                briquePlein: {
                    ciment: 0,
                    sable: 0
                },
                briqueCreuse: {
                    ciment: 0,
                    sable: 0
                },
                jointEnduit: {
                    ciment: 0,
                    sable: 0
                }
            };
            
            // Réinitialiser tous les champs de formulaire
            document.querySelectorAll('input, select').forEach(element => {
                if (element.type === 'number') {
                    element.value = '';
                } else if (element.tagName === 'SELECT') {
                    element.selectedIndex = 0;
                }
            });
            
            // Réinitialiser tous les résultats affichés
            document.querySelectorAll('.result-value').forEach(element => {
                if (element.id.includes('volume')) {
                    element.textContent = '0 m³';
                } else if (element.id.includes('ciment') || element.id.includes('acier')) {
                    element.textContent = '0 kg';
                } else if (element.id.includes('sable') || element.id.includes('gravier')) {
                    element.textContent = '0 m³';
                } else if (element.id.includes('nombre') || element.id.includes('surface')) {
                    element.textContent = '0';
                }
            });
            
            // Revenir au premier écran
            screens.forEach(screen => screen.classList.remove('active'));
            screens[0].classList.add('active');
            
            // Mettre à jour la barre de progression
            updateProgressBar();
            
            // Faire défiler vers le haut
            window.scrollTo(0, 0);
            
            // Afficher une notification
            showNotification("Application réinitialisée !");
        }
        
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notification-message');
            
            notificationMessage.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Ajouter des écouteurs d'événements pour les champs de saisie
            document.querySelectorAll('input, select').forEach(element => {
                element.addEventListener('input', function() {
                    // Recalculer les résultats pour l'écran actuel
                    calculateCurrentScreenResults();
                });
            });
            
            // Initialiser la barre de progression
            updateProgressBar();
        });
    </script>
</body>
</html>
